结构型模式：类或对象组合在一起的经典结构

### 代理模式

不改变原始类，通过代理类的方式给原始类附加功能

通过继承或实现来完成代理，通过委托完成原有功能

在对功能加强的代码相似的情况下，为避免大量创建类，增加维护成本，引入了动态代理

JDK：Proxy.newProxyInstance，基于接口实现

Cglib：基于类继承

应用场景：

1. 非功能性需求：监控、统计、鉴权、限流、事务、幂等、日志等
2. RPC、缓存等应用场景

### 桥接模式

将抽象和实现解耦，让它们可以独立变化，组合优于继承

JDBC本身是抽象，不同数据库的JDBC类库是实现

### 装饰器模式

装饰器类和原有类实现相同接口或继承相同父类

装饰器类是对功能的增强

代理增强的是和原始类无关的功能，而装饰器增强的是原始类相关的功能

Java IO

### 适配器模式

将一个不兼容的类通过适配器转换为兼容的类

类适配器：通过一个类同时实现两个接口

对象适配器：通过一个类实现兼容接口，组合不兼容对象

如果不兼容类和兼容类大多接口定义相同使用类适配器，否则使用对象适配器

SLF4J提供了对其他日志框架的适配器，也提供到转换到其他框架的适配器

### 门面 / 外观模式

适用于接口设计

假设有一个系统 A，提供了 a、b、c、d 四个接口。系统 B 完成某个业务功能，需要调用 A 系统的 a、b、d 接口。利用门面模式，提供一个包裹 a、b、d 接口调用的门面接口 x，给系统 B 直接使用

1. 解决易用性问题

2. 解决性能问题，多次调用改为一次调用

3. 解决分布式事务问题，让新接口在一个事务中完成多个SQL操作

适配器是做接口转换，解决原接口和目标接口不匹配

门面模式做接口整合，解决接口多次调用的问题

### 组合模式

处理树形结构数据，将一组对象组织成树形结构，以表示一种整体部分的层次结构，如目录和文件、部门和员工等

### 享元模式

复用对象，节省内存，享元对象需要是不可变对象

Integer、String

